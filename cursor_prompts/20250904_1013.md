Update models, builders, and tests to support the NEW input format and field names.

**New input format (one JSON per line):**
{"id":"15887","customer_id":"528","load_amount":"$3318.47","time":"2000-01-01T00:00:00Z"}

**Field renames across the codebase:**
- `effective_amount`            => `effective_load_amount_cents`
- `amount`                      => `load_amount_cents`
- `timestamp`                   => `time`

These renames apply to:
- Models (attributes/constructor/reader names)
- Builders/Parsers (input mapping, parsing, and object construction)
- Any logic/tests that reference these fields
- (If any serializers/formatters are present, update them too)

**Implementation tasks**
1. **Model updates**
   - `lib/models/fund_load.rb`
     - Replace `amount_cents` (if present) with `load_amount_cents`.
     - Replace `occurred_at` (if present) with `time` (type: `Time`, UTC).
     - Keep `transaction_id` and `customer_id` as-is (mapping `id` -> `transaction_id`).
     - Add/rename `effective_load_amount_cents` if a computed/effective amount is used anywhere (default to `load_amount_cents` when not overridden).
     - Ensure equality (`#==`) and any other helpers use the updated names.

2. **Builder/Parser updates**
   - If a builder exists (e.g., `lib/builders/fund_load_builder.rb` or similar), update it to:
     - Parse `load_amount` strings like `"$3,318.47"` into integer cents:
       - Use `BigDecimal` to avoid float rounding:  
         `cents = (BigDecimal(load_amount.delete("$,")) * 100).to_i`
       - Require `bigdecimal` at the top of the file.
     - Map fields:
       - `transaction_id`   <- `id` (string)
       - `customer_id`      <- `customer_id` (string)
       - `load_amount_cents`<- parsed cents from `load_amount`
       - `time`             <- `Time.parse(json["time"]).utc`
       - `effective_load_amount_cents` <- default to `load_amount_cents` (until sanctions logic overrides)
   - If a line parser exists (e.g., `lib/parsers/line_json_parser.rb`), ensure it passes through the updated keys to the builder.
   - Make sure all return types remain consistent with repository expectations.

3. **Repository compatibility**
   - `lib/repositories/fund_load_repository.rb` and `lib/repositories/in_memory_fund_load_repository.rb`:
     - These should not need functional changes, but if they referenced `occurred_at` or `amount_cents`, rename to `time` and `load_amount_cents`.
     - `find_by_date(date)` must compare by `record.time.utc.to_date == date`.

4. **Tests**
   - Update or add specs to cover:
     - Model attribute names and equality with the new fields.
     - Builder parsing from the new input format:
       - Given `{"id":"10694","customer_id":"1","load_amount":"$785.11","time":"2000-01-01T03:04:06Z"}`, it builds:
         - `transaction_id: "10694"`
         - `customer_id: "1"`
         - `load_amount_cents: 78511`
         - `time: Time.utc(2000,1,1,3,4,6)`
         - `effective_load_amount_cents: 78511` (by default)
       - Currency parsing with commas and 2 decimal places (e.g., `"$3,318.47"` -> `331847`).
       - Invalid/malformed `load_amount` (optional: raise `ArgumentError` with a clear message).
     - Repository specs that previously used `occurred_at` should now use `time`.
   - Suggested spec files:
     - `spec/models/fund_load_spec.rb`
     - `spec/builders/fund_load_builder_spec.rb`
     - Update `spec/repositories/in_memory_fund_load_repository_spec.rb` expectations.

5. **Refactor safety**
   - Do a global search/replace audit:
     - `effective_amount` -> `effective_load_amount_cents`
     - `amount` -> `load_amount_cents`
     - `timestamp` -> `time`
     - `occurred_at` -> `time` (if previously used)
   - Keep backward compatibility only if tests require it; otherwise, fully migrate.

**Example test (builder)**
```ruby
# spec/builders/fund_load_builder_spec.rb
require "bigdecimal"
require "time"

RSpec.describe FundLoadBuilder do
  it "parses a valid input line into a FundLoad" do
    json = {
      "id" => "15887",
      "customer_id" => "528",
      "load_amount" => "$3,318.47",
      "time" => "2000-01-01T00:00:00Z"
    }
    record = described_class.build(json)

    expect(record.transaction_id).to eq("15887")
    expect(record.customer_id).to eq("528")
    expect(record.load_amount_cents).to eq(331847)
    expect(record.effective_load_amount_cents).to eq(331847)
    expect(record.time).to eq(Time.utc(2000, 1, 1, 0, 0, 0))
  end
end
Run

bash
Copy code
bundle exec rspec
Remember
We are tracking all prompts in cursor_prompts/ as separate .md files with timestamped filenames. Save this prompt there as well.